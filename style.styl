support-for-ie = true

@import 'nib'

// Fonts
// $body-font = Helvetica Neue, Open Sans, sans-serif
// $mono-font = Menlo, monospace
$body-font = SourceSansProLight, Open Sans, sans-serif
$mono-font = Inconsolata, monospace

// Margins
// $pad = 40px      // Space between things
// $sidepad = 30px  // Padding to the left of the sidebar
// $minipad = 2rem  // Space for mobile
// $vmargin = 1rem  // Margin between blocks

$pad = 2rem
$sidepad = 1rem
$minipad = 1rem
$vmargin = 1rem


// Colors
// $offwhite = #f3f6fb
$offwhite = #FFF
// $grey = #9090aa
// $grey = #183691
$grey = #000

// $txt = rgb(34, 54, 77)
$txt = #333

// $accent = #3cc * 0.85
$accent = hsl(200, 100%, 39%)
$accent2 = hsl(200, 100%, 59%)
$line = #e4e7ec * 0.98

// Misc
$shadow-str = 0.1

// // Dimensions
// $sidebar-width = 230px
// $sidebar-width = 16vw
$sidebar-width = 10rem

// $content-width = 550px
// $pre-width = 380px
$content-width = 42vw
$pre-width = 42vw


/* ----------------------------------------------------------------------------
 * Fonts
 */

//Dev
// @font-face
//     font-family Lato Regular
//     font-weight 400
//     font-style normal
//     font-stretch normal
//     src url(../sealious.github.io/styles/fonts/eot/lato-regular.eot)
//     src url(../sealious.github.io/styles/fonts/woff/lato-regular.woff)
//     src url(../sealious.github.io/styles/fonts/ttf/lato-regular.ttf)
//     src url(../sealious.github.io/styles/fonts/otf/lato-regular.otf)

// @font-face
//     font-family SourceSansProLight
//     font-weight 300
//     font-style normal
//     font-stretch normal
//     src url(../sealious.github.io/styles/fonts/eot/SourceSansPro-Light.eot)
//     src url(../sealious.github.io/styles/fonts/woff/SourceSansPro-Light.otf.woff)
//     src url(../sealious.github.io/styles/fonts/ttf/SourceSansPro-Light.ttf)
//     src url(../sealious.github.io/styles/fonts/otf/SourceSansPro-Light.otf)

// @font-face
//     font-family Inconsolata
//     font-weight 300
//     font-style normal
//     font-stretch normal
//     src url(../sealious.github.io/styles/fonts/woff/inconsolata.woff)
//     src url(../sealious.github.io/styles/fonts/ttf/inconsolata.ttf)
//     src url(../sealious.github.io/styles/fonts/otf/inconsolata.otf)

//Production
@font-face
    font-family Lato Regular
    font-weight 400
    font-style normal
    font-stretch normal
    src url(../styles/fonts/eot/lato-regular.eot)
    src url(../styles/fonts/woff/lato-regular.woff)
    src url(../styles/fonts/ttf/lato-regular.ttf)
    src url(../styles/fonts/otf/lato-regular.otf)

@font-face
    font-family SourceSansProLight
    font-weight 300
    font-style normal
    font-stretch normal
    src url(../styles/fonts/eot/SourceSansPro-Light.eot)
    src url(../styles/fonts/woff/SourceSansPro-Light.otf.woff)
    src url(../styles/fonts/ttf/SourceSansPro-Light.ttf)
    src url(../styles/fonts/otf/SourceSansPro-Light.otf)

@font-face
    font-family Inconsolata
    font-weight 300
    font-style normal
    font-stretch normal
    src url(../styles/fonts/woff/inconsolata.woff)
    src url(../styles/fonts/ttf/inconsolata.ttf)
    src url(../styles/fonts/otf/inconsolata.otf)
    
// ----------------------------------------------------------------------------
// Mixins

scrollbar($bg=white)
  &
    -webkit-overflow-scrolling: touch
  &::-webkit-scrollbar
    // width: 15px
    // height: 15px
    width: 1rem
    height: 1rem
  &::-webkit-scrollbar-thumb
    background: #ddd
    border-radius: 0.4rem
    border: solid 0.2rem $bg
  &:hover::-webkit-scrollbar-thumb
    background: #999
    box-shadow: inset 0.1rem 0.1rem 0.15rem rgba(0, 0, 0, 0.2)

antialias()
  -webkit-font-smoothing: antialiased
  text-rendering: optimizeLegibility

/* ----------------------------------------------------------------------------
 * Base
*/

global-reset()

html, body
  height: 100%

html
  overflow-x: hidden

body, td, textarea, input
  font-family: $body-font
  line-height: 1.5rem
  font-size: 1.04rem
  // font-size: 1rem
  color:$txt

  // @media (max-width: 480px) /* Mobile */
  @media (max-width: 30rem) /* Mobile */
    // font-size: 12px
    font-size: 1rem
    line-height: 1rem
a
  color: $accent
  text-decoration: none
  &:hover
    // color: $accent * 0.4
    color: $accent2

/* ----------------------------------------------------------------------------
 * Content styling
 */

.content
  p, ul, ol, h1, h2, h3, h4, h5, h6, pre, blockquote
    padding: $vmargin 0
    box-sizing: border-box

  h1, h2, h3, h4, h5, h6
    line-height 3rem
    font-weight: bold
    antialias()

  pre
    font-family: $mono-font

  ul > li
    list-style-type: disc

  ol > li
    list-style-type: decimal

  ul, ol
    // margin-left: 2rem
    margin-left: 2rem

  ul > li
    list-style-type: none
    position: relative
    &:before
      content: ''
      display: block
      // absolute: left -17px top 7px
      // width: 5px
      // height: 5px
      // border-radius: 4px
      absolute: left -1rem top 0.7rem
      width: 0.4rem
      height: 0.4rem
      border-radius: 0.5rem
      box-sizing: border-box
      background: white
      border: solid 0.1rem $grey

  li > :first-child
    padding-top: 0

  strong, b
    font-weight: bold
    color: hsl(92, 70%, 40%)

  i, em
    font-style: italic
    // color: $grey
    // color: hsl(0, 65%, 68%)
    padding-right: 0.2rem

  code
    font-family: $mono-font
    // background: $offwhite
    background: #FAFAFA
    // padding: 0.1rem 0.25rem
    font-size: 0.95rem
    line-height: 1rem
    color: #183691
    font-weight: normal
    padding-left: 0.4rem
    padding-right: 0.4rem

  pre > code
    display: block
    // background: transparent
    color: #637c84
    background: #FAFAFA
    border-bottom: 0.25rem solid hsl(195, 14%, 90%)
    margin-bottom: -0.25rem
    padding: 1rem
    font-size: 0.9em
    white-space: pre-wrap
    line-height: 1rem
    overflow-wrap: break-word

  blockquote
    :first-child
      padding-top: 0
    :last-child
      padding-bottom: 0

  table

    margin-top: $vmargin
    margin-bottom: $vmargin
    padding: 0
    border-collapse: collapse
    clear: both

    tr
      border-top: 0.1rem solid #cccccc
      background-color: white
      margin: 0
      padding: 0

      :nth-child(2n)
        background-color: #f8f8f8

      th
        text-align: auto;
        font-weight: bold
        border: 0.1rem solid #cccccc
        margin: 0
        padding: 0.5rem 1rem

      td
        text-align: auto;
        border: 0.1rem solid #cccccc
        margin: 0
        padding: 0.5rem 1rem

      th, td
        :first-child

          margin-top: 0;
        :last-child
          margin-bottom: 0;



    

/* ----------------------------------------------------------------------------
 * Content
 */

.content-root
  min-height: 90%
  position: relative

.content
  // padding-top: $pad - $vmargin
  // padding-bottom: $pad
  // padding-left: $pad
  // padding-right: $pad
  padding: $pad

  clearfix()

  max-width: 60rem

  blockquote
    color: $grey
    text-shadow: 0 0.1rem 0 rgba(white, 0.5)

  h1, h2, h3
    antialias()
    font-family: SourceSansProLight
    padding-bottom: 0

    + p, ul, ol
      padding-top: 1rem

  h1, h2
    text-transform: uppercase
    letter-spacing: 0.1rem
    font-size: 1.5em
    line-height: 3rem

  h3
    font-size: 1.2em
    line-height: 3rem

  // Lines
  h1, h2, .big-heading
    padding-top: $pad * 2
    &:before
      display: block
      content: ''
      background: linear-gradient(left, rgba($line, 1.0) 80%, rgba($line, 0.0))
      // box-shadow: 0 0.1rem 0 rgba(white, 0.4)
      box-shadow 0 0.1rem 0 rgba(#637c84, 0.05)
      // height: 0.06rem
      height: 1px
      position: relative
      top: $pad * -1
      left: $pad * -1
      width: 100%

    @media (max-width: 48rem) /* Mobile and tablet */
      // padding-top: $minipad * 2
      padding-top: 2.6rem
      &:before
        background: $line
        left: $pad * -1
        top: $minipad * -1
        width: 120%

  // Small headings
  h4, h5, .small-heading
    border-bottom: solid 0.1rem rgba(black, 0.07)
    color: $grey
    padding-top: $vmargin * 3
    padding-bottom: 0.625rem

  body:not(.big-h3) & h3
    @extends .content .small-heading
    font-size: 0.9em
    line-height: 1rem

  body.big-h3 & h3
    @extends .content .big-heading

  h1:first-child
    padding-top: 0
    &, a, a:visited
      color: $txt
    &:before
      display: none

@media (max-width: 48rem) /* Tablet */
  .content
    h4, h5, .small-heading, body:not(.big-h3) & h3
      padding-top: $vmargin * 2

@media (max-width: 30rem) /* Mobile */
  .content
    padding: $minipad
    padding-top: $minipad * 2
    line-height: 1.5rem

    h4, h5, .small-heading, body:not(.big-h3) & h3
      padding-top: $vmargin

// ----------------------------------------------------------------------------
// Code blocks

inset-box()
  background: $offwhite
  border: solid 0.1rem $offwhite*0.95
  border-top: solid 0.1rem $offwhite*0.9
  border-left: solid 0.1rem $offwhite*0.93
  display: block
  padding: 0.625rem
  border-radius: 0.25rem

  overflow: auto
  scrollbar($offwhite)

  // changes for wrapping code in mobile
  overflow-wrap: normal
  white-space: pre

body.no-literate .content pre > code
  inset-box()

// @media (max-width: 1180px) /* Small desktop */
@media (max-width: 74rem) /* Small desktop styling code boxes */
  .content pre > code
    inset-box()
    
// ----------------------------------------------------------------------------
// Buttons

// .button
//   antialias()
//   font-family: SourceSansProLight, sans-serif
//   letter-spacing: 0.1rem
//   font-weight: bold

//   display: inline-block
//   padding: 0.25rem 2rem

//   border: solid 0.25rem $accent
//   border-radius: 1.5rem

//   margin-right: 1rem

//   &, &:visited
//     background: $accent
//     color: white
//     text-shadow: none

//   &:hover
//     border-color: #111
//     background: #111
//     color: white

//   &.light
//     &, &:visited
//       background: transparent
//       color: $grey
//       border-color: $grey
//       text-shadow: none

//     &:hover
//       border-color: $grey
//       background: $grey
//       color: white
    
.content
  .button + em
    color: $grey


// ----------------------------------------------------------------------------
// Literate mode content

@media (min-width: 87rem) /* Big desktop */
  .content
    max-width: 80rem

// @media (min-width: 87rem) /* Big desktop */
//   body:not(.no-literate)
//     .content-root
//       background-color: $offwhite
      // $w = ($sidebar-width + $content-width)
      // box-shadow: inset $w 0 white, inset ($w + 1) 0 $line, inset ($w + 10) 0 5px -1rem rgba(black, $shadow-str)

// Literate mode
// @media (min-width: 87rem) /* Big desktop */
//   small-heading()
//     margin-left: $pad
//     width: $content-width - $pad * 2
//     margin-bottom: 0.25rem
//     padding-left: 0
//     padding-right: 0

//   body:not(.no-literate)
//     .content
//       // padding-left: 10rem //0, 0
//       // padding-right: 10rem

//       width: $content-width + $pre-width
//       max-width: none

//       >
//         p, ul, ol, h1, h2, h3, h4, h5, h6, pre, blockquote
//           width: $content-width
//           box-sizing: border-box
//           padding-right: $pad
//           padding-left: $pad
//         h1, h2, h3
//           clear: both
//           width: 100%
//         pre, blockquote
//           width: $pre-width
//           padding-left: ($pad/2)
//           padding-right: ($pad/2)
//           // float: right
//           // clear: right
//           +
//             p, ul, ol, h4, h5, h6
//               clear: both
//         p, ul, ol, h4, h5, h6
//           float: left
//           clear: left

//         h4, h5, .small-heading, body:not(.big-h3) & h3
//           small-heading()

//         table
//           margin-left: $pad
//           margin-right: $pad
//           max-width: $content-width - $pad*2

//   body:not(.no-literate):not(.big-h3)
//     .content > h3
//       small-heading()

// ----------------------------------------------------------------------------
// Header

.header
  background: $offwhite
  text-shadow: 0 0.1rem 0 rgba(white, 0.5)
  border-bottom: solid 0.1rem $line
  padding: 1rem 1rem 1rem $sidepad
  clearfix()

  // line-height: 2rem
  line-height: 1rem
  position: relative

  .left
    float: left

  .right
    text-align: right
    position: absolute
    right: 0rem
    top: 0.8rem

    iframe
      display: inline-block
      vertical-align: middle

  h1
    antialias()
    font-weight: bold
    font-family: SourceSansProLight, sans-serif
    font-size: 1rem
    line-height: 1rem

    &, a, a:visited
      color: $grey
    a:hover
      color: $txt

  li a
    font-size: 0.88rem
    line-height: 1rem
    color: $grey
    display: block

    &:hover
      color: $grey*0.4

  @media (min-width: 30rem) /* Tablet & Desktop */
    h1
      float: left

    ul, li
      display: block
      float: left

    ul
      margin-left: -1rem

    h1 + ul
      border-left: solid 0.1rem $line
      margin-left: 1rem

    li
      border-left: solid 0.1rem rgba(white, 0.5)
      border-right: solid 0.1rem $line
      &:last-child
        border-right: 0

    li a
      padding: 0 1rem

@media (max-width: 30rem) /* Mobile */
  // Hide extra stuff on mobile
  .right
    display: none


// ----------------------------------------------------------------------------
// Sidebar

.menubar
  antialias()
  .section
    padding: $sidepad $sidepad
    box-sizing: border-box

  .section + .section
    border-top: solid 0.1rem $line

  .section.no-line
    border-top: 0
    padding-top: 0

a.big.button
  display: block
  box-sizing: border-box
  width: 100%
  padding: 1rem 2rem
  text-align: center

  font-weight: bold
  font-size: 1.1rem
  line-height: 2rem

  background: transparent
  border: solid 0.25rem $accent
  border-radius: 2rem
  font-family: SourceSansProLight, sans-serif

  &, &:visited
    color: $accent
    text-decoration: none

  &:hover
    background: $accent
    &, &:visited
      color: white

@media (max-width: 30rem) /* Mobile */
  .menubar
    padding: $minipad
    border-bottom: solid 0.1rem $line

  .header
    li a
      font-size: 1rem
      line-height: 2rem
      color: $grey
      display: block

@media (max-width: 48rem) /* Mobile and tablet */
  .menubar
    display: none

@media (min-width: 48rem) /* Desktop */
  .content-root
    padding-left: $sidebar-width

  .menubar
    position: absolute
    left: 0
    top: 0
    bottom: 0
    width: $sidebar-width
    border-right: solid 0.1rem $line

  .menubar.fixed
    position: fixed

    scrollbar()
    overflow-y: auto

.menubar
  font-size: 0.9rem
  line-height: 1rem

// Menu items
.menu
  ul.level-1 > li + li
    margin-top: 2rem

  a
    box-sizing: border-box
    position: relative

    display: block
    padding-top: 0.1rem
    padding-bottom: 0.1rem
    margin-right: ($sidepad * -1)

    &, &:visited
      color: $accent
    &:hover
      color: $accent*0.8

  a.level-1
    font-family: SourceSansProLight, sans-serif
    text-transform: uppercase
    font-size: 0.9rem
    line-height: 1rem
    font-weight: bold
    &, &:visited
      color: $grey
    &:hover
      color: $grey*0.6

  a.level-2
    font-weight: normal

  a.level-3
    font-weight: normal
    font-size: 0.9em
    line-height: 1rem
    padding-left: 1rem

  a.active
    &, &:visited, &:hover
      // color: $txt !important
    font-weight: bold !important
    
    // Indicator
    &:after
      content: ''
      display: block
      box-sizing: border-box

      absolute: top 0.6rem right 1rem

      width: 0.5rem
      height: 0.5rem
      border-radius: 100%
      background: $accent

// ----------------------------------------------------------------------------
// Syntax highlighting

code
  // color: #637c84
  .string, .number
    color: #183691
  .init
    // color: #383
    // color: #795da3
    color: #f5871f
  .keyword
    // font-weight: bold
    color: #a71d5d
  .comment
    color: $grey * 1.2


// ----------------------------------------------------------------------------

.content
  .large-brief & > h1:first-child + p,
  > p.brief
    font-size: 1.3rem
    line-height: 2rem
    // font-family: Open Sans, sans-serif
    font-family: $body-font
    font-weight: 300

// ----------------------------------------------------------------------------

.title-area
  // min-height: 100px
  min-height: 10rem
  box-sizing: border-box
  antialias()
  text-align: center
  border-bottom: solid 0.1rem $line
  overflow: hidden

  > img.bg
    z-index: 0

    // Start it off screen
    position: absolute
    left: -9999px

  > div
    position: relative
    z-index: 1
